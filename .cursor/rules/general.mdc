---
alwaysApply: true
---
# .cursor-rules.yaml

project:
  name: QR Attendance System (Local)
  description: |
    Flask + SQLite backend, HTML/CSS/JS frontend, local IP Ã¼zerinden Ã§alÄ±ÅŸan QR tabanlÄ± yoklama sistemi.
    TÃ¼m sistem lokalde Ã§alÄ±ÅŸÄ±r, hiÃ§bir bulut altyapÄ±sÄ±na ihtiyaÃ§ duymaz.

rules:
  - alwaysApply: true
    title: ğŸ“¦ Dosya YapÄ±sÄ± KurallarÄ±
    description: |
      Proje aÅŸaÄŸÄ±daki yapÄ±yÄ± korumalÄ±:
      - backend/: Flask uygulamasÄ±, QR Ã¼retimi, SQLite veritabanÄ±
      - frontend/: HTML, CSS, JS dosyalarÄ±
      - qr_codes/: oluÅŸturulan QR gÃ¶rselleri
      - .env: GeliÅŸtirme ortamÄ± deÄŸiÅŸkenleri

  - alwaysApply: true
    title: ğŸŒ IP AyarÄ± KuralÄ±
    description: |
      QR kodlar ve yÃ¶nlendirmeler localhost deÄŸil, LAN IP (Ã¶rnek: http://192.168.1.5:5000) kullanÄ±lmalÄ±dÄ±r.
      Flask `app.run(host="0.0.0.0", port=5000)` ile Ã§alÄ±ÅŸtÄ±rÄ±lmalÄ±.

  - alwaysApply: true
    title: ğŸ”’ GÃ¼venlik DuvarÄ± ve Port AÃ§Ä±klÄ±ÄŸÄ±
    description: |
      Windows/Linux Ã¼zerinde port 5000 dÄ±ÅŸ dÃ¼nyaya aÃ§Ä±k olmalÄ±.
      Aksi takdirde mobil cihazlardan eriÅŸilemez.

  - alwaysApply: true
    title: ğŸ—ƒï¸ VeritabanÄ± KuralÄ±
    description: |
      KullanÄ±lan veritabanÄ± SQLite'dÄ±r. Tek bir `.db` dosyasÄ± kullanÄ±lmalÄ±.
      Tablolar: users, courses, sessions, attendances
      Her tablo foreign key iliÅŸkileriyle baÄŸlÄ± olmalÄ±dÄ±r.

  - alwaysApply: true
    title: ğŸ§‘â€ğŸ« Rol BazlÄ± Yetki KuralÄ±
    description: |
      - Admin her ÅŸeye eriÅŸebilir.
      - Instructor sadece kendi derslerine eriÅŸebilir.
      - KatÄ±lÄ±mcÄ± login olmadan sadece QR ile form doldurabilir.

  - alwaysApply: true
    title: ğŸ“¤ QR Kod KuralÄ±
    description: |
      Oturum oluÅŸturulduÄŸunda QR kodu `qr_codes/` klasÃ¶rÃ¼ne PNG olarak kaydedilmeli.
      QR iÃ§eriÄŸi ÅŸu formatta olmalÄ±: http://192.168.x.x:5000/attend/<token>

  - alwaysApply: true
    title: ğŸ–¼ï¸ Public KatÄ±lÄ±m Formu KuralÄ±
    description: |
      /attend/<token> altÄ±nda basit bir form gÃ¶sterilmeli:
      - Ad
      - Soyad
      - Submit butonu â†’ /attend endpointâ€™ine POST gÃ¶nderir

  - alwaysApply: true
    title: ğŸ” Tekrar KatÄ±lÄ±m Engelleme (Opsiyonel)
    description: |
      AynÄ± sessionId + ip + isim kombinasyonu ile tekrar katÄ±lÄ±m yapÄ±lamamalÄ±.

  - alwaysApply: true
    title: ğŸ“¥ CSV Export Ã–zelliÄŸi (Opsiyonel)
    description: |
      EÄŸitmen panelinde oturuma ait yoklamalar `.csv` olarak indirilebilmelidir.

